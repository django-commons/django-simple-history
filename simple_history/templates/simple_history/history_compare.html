{% extends "admin/change_form.html" %}
{% load i18n %}
{% load url from future %}
{% load admin_urls %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=app_label %}">{{ app_label|capfirst|escape }}</a>
&rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ module_name }}</a>
&rsaquo; <a href="{% url opts|admin_urlname:'change' object_id %}">{{ object|truncatewords:"18" }}</a>
&rsaquo; {% trans 'Compare History' %}
</div>
{% endblock %}

{% block content %}

<style>
  .compare {
    white-space: pre-wrap;
  }
  .compare.removed {
    background: DarkSalmon;
  }
  .compare.added {
    background: YellowGreen;
  }
  .compare.unchanged {
  }
</style>

<div id="content-main">
<div class="module">

{% for field in fields %}
<div class="form-row field-{{ field.name }}">
  {% if field.name %}<h4>{{ field.name }}</h4>{% endif %}
  {% if field.description %}
    <div class="description">{{ field.description|safe }}</div>
  {% endif %}
  <div>
    {{ field.label_tag }}
    <p>
      {% for type, content in field.compare_nodes %}<span class="compare {{ type }}">{{ content|safe }}</span>{% endfor %}
    </p>
  </div>
</div>
{% endfor %}

</div>
</div>
{% endblock content %}
